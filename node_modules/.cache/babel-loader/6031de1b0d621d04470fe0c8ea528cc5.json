{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport G6 from '@antv/g6';\nimport { isObject } from '@antv/util';\nexport var registerCustomItems = function () {\n  G6.registerNode('card-node', {\n    draw: function (cfg, group) {\n      var _a;\n\n      if (cfg === void 0) {\n        cfg = {};\n      }\n\n      var size = cfg.size || [100, 30];\n      if (typeof size === 'number') size = [size, size];\n\n      var style = __assign({\n        radius: 2,\n        fill: '#fff'\n      }, cfg.style);\n\n      var color = style.stroke || cfg.color || '#5B8FF9';\n      var r = style.radius || 0;\n      var shape = group.addShape('rect', {\n        attrs: __assign({\n          x: 0,\n          y: 0,\n          width: size[0],\n          height: size[1],\n          stroke: color\n        }, style),\n        name: 'main-box',\n        draggable: true\n      }); // title text\n\n      var title = cfg.title || cfg.label;\n      var titleTextShape;\n      var labelStyle = ((_a = cfg.labelCfg) === null || _a === void 0 ? void 0 : _a.style) || {};\n\n      if (title) {\n        var titleStyle = __assign({\n          fill: '#fff'\n        }, labelStyle);\n\n        titleTextShape = group.addShape('text', {\n          attrs: __assign(__assign({\n            textBaseline: 'top',\n            x: 8,\n            y: 2,\n            // lineHeight: 20,\n            text: title\n          }, titleStyle), {\n            fill: '#fff'\n          }),\n          name: 'title'\n        });\n      }\n\n      var titleBox = titleTextShape ? titleTextShape.getBBox() : {\n        height: size[1] / 2\n      }; // title rect\n\n      var titleRectShape = group.addShape('rect', {\n        attrs: {\n          x: 0,\n          y: 0,\n          width: size[0],\n          height: titleBox.height + 4,\n          fill: color,\n          radius: [r, r, 0, 0]\n        },\n        name: 'title-rect',\n        draggable: true\n      });\n      titleTextShape === null || titleTextShape === void 0 ? void 0 : titleTextShape.toFront(); // marker\n\n      var markerShape;\n\n      if (cfg === null || cfg === void 0 ? void 0 : cfg.children) {\n        markerShape = group.addShape('marker', {\n          attrs: {\n            x: size[0] / 2,\n            y: 0,\n            r: 6,\n            cursor: 'pointer',\n            symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,\n            stroke: color,\n            lineWidth: 1,\n            fill: '#fff'\n          },\n          name: 'collapse-icon'\n        });\n      } // description\n\n\n      var description = cfg && cfg.description ? cfg.description : undefined;\n      var titleRectBox = titleRectShape.getBBox();\n      var descriptionTextShape;\n\n      if (description) {\n        descriptionTextShape = group.addShape('text', {\n          attrs: __assign({\n            textBaseline: 'top',\n            x: 8,\n            y: titleRectBox.height + 8,\n            text: description\n          }, labelStyle),\n          name: \"description\"\n        });\n      }\n\n      if (descriptionTextShape) {\n        var desTextShapeBBox = descriptionTextShape.getBBox();\n        var height = titleRectBox.height + 16 + desTextShapeBBox.height;\n        var width = size[0] > desTextShapeBBox.width + 16 ? size[0] : desTextShapeBBox.width + 16;\n        shape.attr({\n          width: width,\n          height: height\n        });\n        titleRectShape === null || titleRectShape === void 0 ? void 0 : titleRectShape.attr('width', width);\n        markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr({\n          x: width,\n          y: height / 2\n        });\n      }\n\n      return shape;\n    },\n    update: undefined\n  }, 'single-node');\n  G6.registerNode('round-rect', {\n    drawShape: function (cfg, group) {\n      if (cfg === void 0) {\n        cfg = {};\n      }\n\n      var size = cfg.size || [100, 30];\n      if (typeof size === 'number') size = [size, size];\n      var style = cfg.style || {};\n      var color = style.stroke || cfg.color || '#5B8FF9';\n      var fill = style.fill || '#fff';\n      style = __assign({\n        width: size[0],\n        height: size[1],\n        radius: size[1] / 2,\n        fill: fill,\n        lineWidth: 1.2,\n        stroke: color\n      }, style);\n      var rect = group.addShape('rect', {\n        attrs: __assign({\n          x: -size[0] / 2,\n          y: -size[1] / 2\n        }, style),\n        name: 'rect-shape'\n      }); // circles for anchor points\n\n      group.addShape('circle', {\n        attrs: {\n          x: -size[0] / 2,\n          y: 0,\n          r: 3,\n          fill: style.stroke\n        },\n        name: 'circle-shape'\n      });\n      group.addShape('circle', {\n        attrs: {\n          x: size[0] / 2,\n          y: 0,\n          r: 3,\n          fill: style.stroke\n        },\n        name: 'circle-shape2'\n      });\n      return rect;\n    },\n    getAnchorPoints: function getAnchorPoints() {\n      return [[0, 0.5], [1, 0.5]];\n    },\n    update: function update(cfg, item) {\n      var _a;\n\n      if (cfg === void 0) {\n        cfg = {};\n      }\n\n      var group = item.getContainer();\n      var children = group.get('children');\n      var node = children[0];\n      var circleLeft = children[1];\n      var circleRight = children[2];\n      var stroke = ((_a = cfg.style) === null || _a === void 0 ? void 0 : _a.stroke) || '#5B8FF9';\n\n      if (stroke) {\n        node.attr('stroke', stroke);\n        circleLeft.attr('fill', stroke);\n        circleRight.attr('fill', stroke);\n      }\n    }\n  }, 'single-node');\n  G6.registerEdge('fund-polyline', {\n    draw: function draw(cfg, group) {\n      var _a;\n\n      if (cfg === void 0) {\n        cfg = {};\n      }\n\n      var startPoint = cfg.startPoint;\n      var endPoint = cfg.endPoint;\n      var Ydiff = endPoint.y - startPoint.y;\n      var slope = Ydiff !== 0 ? Math.min(500 / Math.abs(Ydiff), 20) : 0;\n      var cpOffset = slope > 15 ? 0 : 16;\n      var offset = Ydiff < 0 ? cpOffset : -cpOffset;\n      var line1EndPoint = {\n        x: startPoint.x + slope,\n        y: endPoint.y + offset\n      };\n      var line2StartPoint = {\n        x: line1EndPoint.x + cpOffset,\n        y: endPoint.y\n      }; // 控制点坐标\n\n      var controlPoint = {\n        x: (line1EndPoint.x - startPoint.x) * (endPoint.y - startPoint.y) / (line1EndPoint.y - startPoint.y) + startPoint.x,\n        y: endPoint.y\n      };\n      var path = [['M', startPoint.x, startPoint.y], ['L', line1EndPoint.x, line1EndPoint.y], ['Q', controlPoint.x, controlPoint.y, line2StartPoint.x, line2StartPoint.y], ['L', endPoint.x, endPoint.y]];\n\n      if (Math.abs(Ydiff) <= 5) {\n        path = [['M', startPoint.x, startPoint.y], ['L', endPoint.x, endPoint.y]];\n      }\n\n      var style = cfg.style;\n      var stroke = style.stroke || (cfg === null || cfg === void 0 ? void 0 : cfg.colorMap) && cfg.colorMap[cfg.dataType] ? (cfg === null || cfg === void 0 ? void 0 : cfg.colorMap)[cfg === null || cfg === void 0 ? void 0 : cfg.dataType] : '#5B8FF9';\n      var endArrow = ((_a = cfg.style) === null || _a === void 0 ? void 0 : _a.endArrow) || false;\n      if (isObject(endArrow)) endArrow.fill = stroke;\n      var line = group.addShape('path', {\n        attrs: {\n          path: path,\n          stroke: stroke,\n          lineWidth: style.lineWidth || 1.2,\n          endArrow: endArrow\n        },\n        name: 'path-shape'\n      });\n      var labelLeftOffset = 0;\n      var labelTopOffset = 8; // label\n\n      var labelTextShape;\n      var textBeginX = line2StartPoint.x + labelLeftOffset;\n\n      if (cfg === null || cfg === void 0 ? void 0 : cfg.label) {\n        labelTextShape = group.addShape('text', {\n          attrs: {\n            text: cfg.label,\n            x: textBeginX,\n            y: endPoint.y - labelTopOffset - 2,\n            fontSize: 14,\n            textAlign: 'left',\n            textBaseline: 'middle',\n            fill: '#000'\n          },\n          name: 'text-shape-label'\n        });\n      } // dataType\n\n\n      if (cfg === null || cfg === void 0 ? void 0 : cfg.dataType) {\n        var labelTextShapeBBox = labelTextShape ? labelTextShape.getBBox() : {\n          height: 0\n        };\n        group.addShape('text', {\n          attrs: {\n            text: cfg.dataType,\n            x: textBeginX,\n            y: endPoint.y - labelTopOffset - labelTextShapeBBox.height - 2,\n            fontSize: 10,\n            textAlign: 'left',\n            textBaseline: 'middle',\n            fill: '#000'\n          },\n          name: 'text-shape-type'\n        });\n      } // subLabel\n\n\n      if (cfg === null || cfg === void 0 ? void 0 : cfg.subLabel) {\n        group.addShape('text', {\n          attrs: {\n            text: cfg.subLabel,\n            x: textBeginX,\n            y: endPoint.y + labelTopOffset + 4,\n            fontSize: 12,\n            fontWeight: 300,\n            textAlign: 'left',\n            textBaseline: 'middle',\n            fill: '#000'\n          },\n          name: 'text-shape-sub-label'\n        });\n      }\n\n      return line;\n    },\n    update: undefined\n  }, 'single-edge');\n  G6.registerEdge('flow-line', {\n    draw: function (cfg, group) {\n      if (cfg === void 0) {\n        cfg = {};\n      }\n\n      var startPoint = cfg.startPoint,\n          endPoint = cfg.endPoint;\n      var _a = cfg.style,\n          style = _a === void 0 ? {} : _a;\n      var shape = group.addShape('path', {\n        attrs: {\n          stroke: style.stroke,\n          endArrow: style.endArrow,\n          path: [['M', startPoint.x, startPoint.y], ['L', startPoint.x, (startPoint.y + endPoint.y) / 2], ['L', endPoint.x, (startPoint.y + endPoint.y) / 2], ['L', endPoint.x, endPoint.y]]\n        }\n      });\n      return shape;\n    }\n  });\n};\nexport var customIconNode = function (params) {\n  G6.registerNode('icon-node', {\n    options: {\n      size: [60, 20],\n      stroke: '#91d5ff',\n      fill: '#91d5ff'\n    },\n    draw: function (cfg, group) {\n      if (cfg === void 0) {\n        cfg = {};\n      } // @ts-ignore\n\n\n      var styles = this.getShapeStyle(cfg);\n      var _a = cfg.labelCfg,\n          labelCfg = _a === void 0 ? {} : _a;\n      var keyShape = group.addShape('rect', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: 0\n        })\n      });\n      /**\n       * leftIcon 格式如下：\n       *  {\n       *    style: ShapeStyle;\n       *    img: ''\n       *  }\n       */\n\n      var style = {\n        fill: '#e6fffb'\n      };\n      var img = 'https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png';\n\n      if (cfg.leftIcon) {\n        style = __assign(__assign({}, style), cfg.leftIcon.style);\n        img = cfg.leftIcon.img;\n      }\n\n      group.addShape('rect', {\n        attrs: __assign({\n          x: 1,\n          y: 1,\n          width: 38,\n          height: styles.height - 2\n        }, style)\n      });\n      group.addShape('image', {\n        attrs: {\n          x: 8,\n          y: 8,\n          width: 24,\n          height: 24,\n          img: img\n        },\n        name: 'image-shape'\n      });\n\n      if (params.enableEdit) {\n        group.addShape('marker', {\n          attrs: {\n            x: styles.width / 3,\n            y: styles.height + 6,\n            r: 6,\n            stroke: '#73d13d',\n            cursor: 'pointer',\n            symbol: G6.Marker.expand\n          },\n          name: 'add-item'\n        });\n        group.addShape('marker', {\n          attrs: {\n            x: styles.width * 2 / 3,\n            y: styles.height + 6,\n            r: 6,\n            stroke: '#ff4d4f',\n            cursor: 'pointer',\n            symbol: G6.Marker.collapse\n          },\n          name: 'remove-item'\n        });\n      }\n\n      if (cfg.label) {\n        group.addShape('text', {\n          attrs: __assign(__assign({}, labelCfg.style), {\n            text: cfg.label,\n            x: styles.width / 2,\n            y: styles.height / 1.5\n          })\n        });\n      }\n\n      return keyShape;\n    }\n  }, 'rect');\n};","map":{"version":3,"sources":["C:/Users/Home/Desktop/cs-2005/node_modules/@ant-design/charts/es/obsolescent/graph/customItems.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","G6","isObject","registerCustomItems","registerNode","draw","cfg","group","_a","size","style","radius","fill","color","stroke","r","shape","addShape","attrs","x","y","width","height","name","draggable","title","label","titleTextShape","labelStyle","labelCfg","titleStyle","textBaseline","text","titleBox","getBBox","titleRectShape","toFront","markerShape","children","cursor","symbol","collapsed","Marker","expand","collapse","lineWidth","description","undefined","titleRectBox","descriptionTextShape","desTextShapeBBox","attr","update","drawShape","rect","getAnchorPoints","item","getContainer","get","node","circleLeft","circleRight","registerEdge","startPoint","endPoint","Ydiff","slope","Math","min","abs","cpOffset","offset","line1EndPoint","line2StartPoint","controlPoint","path","colorMap","dataType","endArrow","line","labelLeftOffset","labelTopOffset","labelTextShape","textBeginX","fontSize","textAlign","labelTextShapeBBox","subLabel","fontWeight","customIconNode","params","options","styles","getShapeStyle","keyShape","img","leftIcon","enableEdit"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport G6 from '@antv/g6';\nimport { isObject } from '@antv/util';\nexport var registerCustomItems = function () {\n    G6.registerNode('card-node', {\n        draw: function (cfg, group) {\n            var _a;\n            if (cfg === void 0) { cfg = {}; }\n            var size = cfg.size || [100, 30];\n            if (typeof size === 'number')\n                size = [size, size];\n            var style = __assign({ radius: 2, fill: '#fff' }, cfg.style);\n            var color = style.stroke || cfg.color || '#5B8FF9';\n            var r = style.radius || 0;\n            var shape = group.addShape('rect', {\n                attrs: __assign({ x: 0, y: 0, width: size[0], height: size[1], stroke: color }, style),\n                name: 'main-box',\n                draggable: true,\n            });\n            // title text\n            var title = cfg.title || cfg.label;\n            var titleTextShape;\n            var labelStyle = ((_a = cfg.labelCfg) === null || _a === void 0 ? void 0 : _a.style) || {};\n            if (title) {\n                var titleStyle = __assign({ fill: '#fff' }, labelStyle);\n                titleTextShape = group.addShape('text', {\n                    attrs: __assign(__assign({ textBaseline: 'top', x: 8, y: 2, \n                        // lineHeight: 20,\n                        text: title }, titleStyle), { fill: '#fff' }),\n                    name: 'title',\n                });\n            }\n            var titleBox = titleTextShape ? titleTextShape.getBBox() : { height: size[1] / 2 };\n            // title rect\n            var titleRectShape = group.addShape('rect', {\n                attrs: {\n                    x: 0,\n                    y: 0,\n                    width: size[0],\n                    height: titleBox.height + 4,\n                    fill: color,\n                    radius: [r, r, 0, 0],\n                },\n                name: 'title-rect',\n                draggable: true,\n            });\n            titleTextShape === null || titleTextShape === void 0 ? void 0 : titleTextShape.toFront();\n            // marker\n            var markerShape;\n            if (cfg === null || cfg === void 0 ? void 0 : cfg.children) {\n                markerShape = group.addShape('marker', {\n                    attrs: {\n                        x: size[0] / 2,\n                        y: 0,\n                        r: 6,\n                        cursor: 'pointer',\n                        symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,\n                        stroke: color,\n                        lineWidth: 1,\n                        fill: '#fff',\n                    },\n                    name: 'collapse-icon',\n                });\n            }\n            // description\n            var description = cfg && cfg.description ? cfg.description : undefined;\n            var titleRectBox = titleRectShape.getBBox();\n            var descriptionTextShape;\n            if (description) {\n                descriptionTextShape = group.addShape('text', {\n                    attrs: __assign({ textBaseline: 'top', x: 8, y: titleRectBox.height + 8, text: description }, labelStyle),\n                    name: \"description\",\n                });\n            }\n            if (descriptionTextShape) {\n                var desTextShapeBBox = descriptionTextShape.getBBox();\n                var height = titleRectBox.height + 16 + desTextShapeBBox.height;\n                var width = size[0] > desTextShapeBBox.width + 16 ? size[0] : desTextShapeBBox.width + 16;\n                shape.attr({ width: width, height: height });\n                titleRectShape === null || titleRectShape === void 0 ? void 0 : titleRectShape.attr('width', width);\n                markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr({\n                    x: width,\n                    y: height / 2,\n                });\n            }\n            return shape;\n        },\n        update: undefined,\n    }, 'single-node');\n    G6.registerNode('round-rect', {\n        drawShape: function (cfg, group) {\n            if (cfg === void 0) { cfg = {}; }\n            var size = cfg.size || [100, 30];\n            if (typeof size === 'number')\n                size = [size, size];\n            var style = cfg.style || {};\n            var color = style.stroke || cfg.color || '#5B8FF9';\n            var fill = style.fill || '#fff';\n            style = __assign({ width: size[0], height: size[1], radius: size[1] / 2, fill: fill, lineWidth: 1.2, stroke: color }, style);\n            var rect = group.addShape('rect', {\n                attrs: __assign({ x: -size[0] / 2, y: -size[1] / 2 }, style),\n                name: 'rect-shape',\n            });\n            // circles for anchor points\n            group.addShape('circle', {\n                attrs: {\n                    x: -size[0] / 2,\n                    y: 0,\n                    r: 3,\n                    fill: style.stroke,\n                },\n                name: 'circle-shape',\n            });\n            group.addShape('circle', {\n                attrs: {\n                    x: size[0] / 2,\n                    y: 0,\n                    r: 3,\n                    fill: style.stroke,\n                },\n                name: 'circle-shape2',\n            });\n            return rect;\n        },\n        getAnchorPoints: function getAnchorPoints() {\n            return [\n                [0, 0.5],\n                [1, 0.5],\n            ];\n        },\n        update: function update(cfg, item) {\n            var _a;\n            if (cfg === void 0) { cfg = {}; }\n            var group = item.getContainer();\n            var children = group.get('children');\n            var node = children[0];\n            var circleLeft = children[1];\n            var circleRight = children[2];\n            var stroke = ((_a = cfg.style) === null || _a === void 0 ? void 0 : _a.stroke) || '#5B8FF9';\n            if (stroke) {\n                node.attr('stroke', stroke);\n                circleLeft.attr('fill', stroke);\n                circleRight.attr('fill', stroke);\n            }\n        },\n    }, 'single-node');\n    G6.registerEdge('fund-polyline', {\n        draw: function draw(cfg, group) {\n            var _a;\n            if (cfg === void 0) { cfg = {}; }\n            var startPoint = cfg.startPoint;\n            var endPoint = cfg.endPoint;\n            var Ydiff = endPoint.y - startPoint.y;\n            var slope = Ydiff !== 0 ? Math.min(500 / Math.abs(Ydiff), 20) : 0;\n            var cpOffset = slope > 15 ? 0 : 16;\n            var offset = Ydiff < 0 ? cpOffset : -cpOffset;\n            var line1EndPoint = {\n                x: startPoint.x + slope,\n                y: endPoint.y + offset,\n            };\n            var line2StartPoint = {\n                x: line1EndPoint.x + cpOffset,\n                y: endPoint.y,\n            };\n            // 控制点坐标\n            var controlPoint = {\n                x: ((line1EndPoint.x - startPoint.x) * (endPoint.y - startPoint.y)) /\n                    (line1EndPoint.y - startPoint.y) +\n                    startPoint.x,\n                y: endPoint.y,\n            };\n            var path = [\n                ['M', startPoint.x, startPoint.y],\n                ['L', line1EndPoint.x, line1EndPoint.y],\n                ['Q', controlPoint.x, controlPoint.y, line2StartPoint.x, line2StartPoint.y],\n                ['L', endPoint.x, endPoint.y],\n            ];\n            if (Math.abs(Ydiff) <= 5) {\n                path = [\n                    ['M', startPoint.x, startPoint.y],\n                    ['L', endPoint.x, endPoint.y],\n                ];\n            }\n            var style = cfg.style;\n            var stroke = style.stroke || ((cfg === null || cfg === void 0 ? void 0 : cfg.colorMap) && cfg.colorMap[cfg.dataType])\n                ? (cfg === null || cfg === void 0 ? void 0 : cfg.colorMap)[cfg === null || cfg === void 0 ? void 0 : cfg.dataType]\n                : '#5B8FF9';\n            var endArrow = ((_a = cfg.style) === null || _a === void 0 ? void 0 : _a.endArrow) || false;\n            if (isObject(endArrow))\n                endArrow.fill = stroke;\n            var line = group.addShape('path', {\n                attrs: {\n                    path: path,\n                    stroke: stroke,\n                    lineWidth: style.lineWidth || 1.2,\n                    endArrow: endArrow,\n                },\n                name: 'path-shape',\n            });\n            var labelLeftOffset = 0;\n            var labelTopOffset = 8;\n            // label\n            var labelTextShape;\n            var textBeginX = line2StartPoint.x + labelLeftOffset;\n            if (cfg === null || cfg === void 0 ? void 0 : cfg.label) {\n                labelTextShape = group.addShape('text', {\n                    attrs: {\n                        text: cfg.label,\n                        x: textBeginX,\n                        y: endPoint.y - labelTopOffset - 2,\n                        fontSize: 14,\n                        textAlign: 'left',\n                        textBaseline: 'middle',\n                        fill: '#000',\n                    },\n                    name: 'text-shape-label',\n                });\n            }\n            // dataType\n            if (cfg === null || cfg === void 0 ? void 0 : cfg.dataType) {\n                var labelTextShapeBBox = labelTextShape ? labelTextShape.getBBox() : { height: 0 };\n                group.addShape('text', {\n                    attrs: {\n                        text: cfg.dataType,\n                        x: textBeginX,\n                        y: endPoint.y - labelTopOffset - labelTextShapeBBox.height - 2,\n                        fontSize: 10,\n                        textAlign: 'left',\n                        textBaseline: 'middle',\n                        fill: '#000',\n                    },\n                    name: 'text-shape-type',\n                });\n            }\n            // subLabel\n            if (cfg === null || cfg === void 0 ? void 0 : cfg.subLabel) {\n                group.addShape('text', {\n                    attrs: {\n                        text: cfg.subLabel,\n                        x: textBeginX,\n                        y: endPoint.y + labelTopOffset + 4,\n                        fontSize: 12,\n                        fontWeight: 300,\n                        textAlign: 'left',\n                        textBaseline: 'middle',\n                        fill: '#000',\n                    },\n                    name: 'text-shape-sub-label',\n                });\n            }\n            return line;\n        },\n        update: undefined,\n    }, 'single-edge');\n    G6.registerEdge('flow-line', {\n        draw: function (cfg, group) {\n            if (cfg === void 0) { cfg = {}; }\n            var startPoint = cfg.startPoint, endPoint = cfg.endPoint;\n            var _a = cfg.style, style = _a === void 0 ? {} : _a;\n            var shape = group.addShape('path', {\n                attrs: {\n                    stroke: style.stroke,\n                    endArrow: style.endArrow,\n                    path: [\n                        ['M', startPoint.x, startPoint.y],\n                        ['L', startPoint.x, (startPoint.y + endPoint.y) / 2],\n                        ['L', endPoint.x, (startPoint.y + endPoint.y) / 2],\n                        ['L', endPoint.x, endPoint.y],\n                    ],\n                },\n            });\n            return shape;\n        },\n    });\n};\nexport var customIconNode = function (params) {\n    G6.registerNode('icon-node', {\n        options: {\n            size: [60, 20],\n            stroke: '#91d5ff',\n            fill: '#91d5ff',\n        },\n        draw: function (cfg, group) {\n            if (cfg === void 0) { cfg = {}; }\n            // @ts-ignore\n            var styles = this.getShapeStyle(cfg);\n            var _a = cfg.labelCfg, labelCfg = _a === void 0 ? {} : _a;\n            var keyShape = group.addShape('rect', {\n                attrs: __assign(__assign({}, styles), { x: 0, y: 0 }),\n            });\n            /**\n             * leftIcon 格式如下：\n             *  {\n             *    style: ShapeStyle;\n             *    img: ''\n             *  }\n             */\n            var style = {\n                fill: '#e6fffb',\n            };\n            var img = 'https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png';\n            if (cfg.leftIcon) {\n                style = __assign(__assign({}, style), cfg.leftIcon.style);\n                img = cfg.leftIcon.img;\n            }\n            group.addShape('rect', {\n                attrs: __assign({ x: 1, y: 1, width: 38, height: styles.height - 2 }, style),\n            });\n            group.addShape('image', {\n                attrs: {\n                    x: 8,\n                    y: 8,\n                    width: 24,\n                    height: 24,\n                    img: img,\n                },\n                name: 'image-shape',\n            });\n            if (params.enableEdit) {\n                group.addShape('marker', {\n                    attrs: {\n                        x: styles.width / 3,\n                        y: styles.height + 6,\n                        r: 6,\n                        stroke: '#73d13d',\n                        cursor: 'pointer',\n                        symbol: G6.Marker.expand,\n                    },\n                    name: 'add-item',\n                });\n                group.addShape('marker', {\n                    attrs: {\n                        x: (styles.width * 2) / 3,\n                        y: styles.height + 6,\n                        r: 6,\n                        stroke: '#ff4d4f',\n                        cursor: 'pointer',\n                        symbol: G6.Marker.collapse,\n                    },\n                    name: 'remove-item',\n                });\n            }\n            if (cfg.label) {\n                group.addShape('text', {\n                    attrs: __assign(__assign({}, labelCfg.style), { text: cfg.label, x: styles.width / 2, y: styles.height / 1.5 }),\n                });\n            }\n            return keyShape;\n        },\n    }, 'rect');\n};\n"]},"metadata":{},"sourceType":"module"}