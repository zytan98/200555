{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BindingWhenSyntax = void 0;\n\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\n\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\n\nvar BindingWhenSyntax = function () {\n  function BindingWhenSyntax(binding) {\n    this._binding = binding;\n  }\n\n  BindingWhenSyntax.prototype.when = function (constraint) {\n    this._binding.constraint = constraint;\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n    this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n    this._binding.constraint = function (request) {\n      var targetIsDefault = request.target !== null && !request.target.isNamed() && !request.target.isTagged();\n      return targetIsDefault;\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n    this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  return BindingWhenSyntax;\n}();\n\nexports.BindingWhenSyntax = BindingWhenSyntax;","map":{"version":3,"sources":["../../src/syntax/binding_when_syntax.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingWhenSyntax = void 0;\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\nvar BindingWhenSyntax = (function () {\n    function BindingWhenSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingWhenSyntax.prototype.when = function (constraint) {\n        this._binding.constraint = constraint;\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n        this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n        this._binding.constraint = function (request) {\n            var targetIsDefault = (request.target !== null) &&\n                (!request.target.isNamed()) &&\n                (!request.target.isTagged());\n            return targetIsDefault;\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n        this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    return BindingWhenSyntax;\n}());\nexports.BindingWhenSyntax = BindingWhenSyntax;\n//# sourceMappingURL=binding_when_syntax.js.map"]},"metadata":{},"sourceType":"script"}