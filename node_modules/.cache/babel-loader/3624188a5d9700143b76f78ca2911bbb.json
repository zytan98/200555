{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport G6 from '@antv/g6';\nimport { defaultMargin, defaultLabelStyle } from '../constants';\nimport { getStyle, getCssPadding, getSize, getArrowCfg, createMarker } from '../utils';\n\nvar getPathInfo = function (cfg) {\n  var edgeCfg = cfg.edgeCfg;\n  var startPoint = cfg.startPoint;\n  var endPoint = cfg.endPoint;\n  var startX = startPoint.x,\n      startY = startPoint.y;\n  var endX = endPoint.x,\n      endY = endPoint.y;\n  var Ydiff = endY - startY;\n  var slope = Ydiff !== 0 ? Math.min(500 / Math.abs(Ydiff), 20) : 0;\n  var cpOffset = slope > 15 ? 0 : 16;\n  var offset = Ydiff < 0 ? cpOffset : -cpOffset;\n  var line1EndPoint = {\n    x: startX + slope,\n    y: endY + offset\n  };\n  var line2StartPoint = {\n    x: line1EndPoint.x + cpOffset,\n    y: endY\n  }; // 控制点坐标\n\n  var controlPoint = {\n    x: (line1EndPoint.x - startX) * (endY - startY) / (line1EndPoint.y - startY) + startX,\n    y: endY\n  };\n  var path = [['M', startX, startY], ['L', line1EndPoint.x, line1EndPoint.y], ['Q', controlPoint.x, controlPoint.y, line2StartPoint.x, line2StartPoint.y], ['L', endX, endY]];\n\n  if (Math.abs(Ydiff) <= 5) {\n    path = [['M', startX, startY], ['L', endX, endY]];\n  }\n\n  var _a = edgeCfg,\n      startArrowCfg = _a.startArrow,\n      endArrowCfg = _a.endArrow;\n  var startArrow = getArrowCfg(startArrowCfg, cfg);\n  var endArrow = getArrowCfg(endArrowCfg, cfg);\n  return {\n    startArrow: startArrow,\n    endArrow: endArrow,\n    path: path,\n    line2StartPoint: line2StartPoint,\n    endY: endY\n  };\n};\n\nvar getPathText = function (value) {\n  var text;\n  var subText;\n\n  if (value instanceof Object) {\n    text = value.text;\n    subText = value.subText;\n  } else {\n    text = value;\n  }\n\n  return {\n    text: text,\n    subText: subText\n  };\n}; // 资金流向图\n\n\nexport var registerFundFlowItems = function () {\n  // 注册节点\n  G6.registerNode('fund-card', {\n    // @ts-ignore\n    draw: function (cfg, group) {\n      var _a, _b;\n\n      if (cfg === void 0) {\n        cfg = {};\n      }\n\n      var _c = cfg.value,\n          value = _c === void 0 ? {} : _c,\n          nodeCfg = cfg.nodeCfg,\n          markerCfg = cfg.markerCfg;\n      var _d = nodeCfg,\n          _e = _d.label,\n          label = _e === void 0 ? {} : _e,\n          style = _d.style,\n          _f = _d.padding,\n          padding = _f === void 0 ? 0 : _f,\n          customContent = _d.customContent;\n      var labelStyle = label.style;\n      var paddingArray = getCssPadding(padding);\n      var size = getSize(cfg.size);\n      var height = 0; // 统计容器总高度，动态设置\n\n      var shapeWidth = size[0];\n      var contentWidth = shapeWidth - paddingArray[1] - paddingArray[3];\n      var contentHeight = size[1] - paddingArray[0] - paddingArray[2]; // card box\n\n      var cardStyle = getStyle(style, cfg, group);\n      var shape = group.addShape('rect', {\n        attrs: __assign({\n          x: 0,\n          y: 0,\n          width: size[0],\n          height: size[1],\n          radius: size[1] / 2,\n          fill: '#fff',\n          stroke: '#40a9ff'\n        }, cardStyle),\n        name: 'main-box',\n        draggable: true\n      });\n\n      if (value) {\n        height += paddingArray[0];\n\n        var createRowItems_1 = function (item, contentWidth, startX) {\n          var _a, _b;\n\n          var text = item.text,\n              icon = item.icon;\n          var textShape;\n          var iconShape;\n\n          if (icon) {\n            iconShape = group.addShape('image', {\n              attrs: __assign({\n                x: startX,\n                y: height,\n                img: icon,\n                width: contentHeight,\n                height: contentHeight\n              }, getStyle(labelStyle, cfg, group, 'icon')),\n              name: 'fund-icon'\n            });\n          }\n\n          textShape = group === null || group === void 0 ? void 0 : group.addShape('text', {\n            attrs: __assign(__assign({\n              textBaseline: 'middle',\n              textAlign: iconShape ? 'start' : 'center',\n              x: startX + (iconShape ? (iconShape === null || iconShape === void 0 ? void 0 : iconShape.getBBox().width) + defaultMargin : contentWidth / 2),\n              y: paddingArray[0] + contentHeight / 2,\n              text: text\n            }, defaultLabelStyle), getStyle(labelStyle, cfg, group, 'text')),\n            name: \"fund-text\"\n          });\n          return [(_a = textShape === null || textShape === void 0 ? void 0 : textShape.getBBox().height) !== null && _a !== void 0 ? _a : 0, (_b = iconShape === null || iconShape === void 0 ? void 0 : iconShape.getBBox().height) !== null && _b !== void 0 ? _b : 0];\n        };\n\n        var createItems = function (item) {\n          var _a;\n\n          var itemsHeight = [];\n\n          if (customContent) {\n            itemsHeight.push((_a = customContent(item, group, {\n              startX: paddingArray[3],\n              startY: height,\n              width: contentWidth\n            })) !== null && _a !== void 0 ? _a : 0);\n          } else {\n            itemsHeight.push.apply(itemsHeight, createRowItems_1(item, contentWidth, paddingArray[3]));\n          }\n\n          height += Math.max.apply(Math, itemsHeight);\n        };\n\n        createItems(value);\n      }\n\n      shape === null || shape === void 0 ? void 0 : shape.attr('height', Math.max(size[1], height + paddingArray[2])); // collapse marker\n\n      if (markerCfg) {\n        var stateCollapsed = ((_b = (_a = group === null || group === void 0 ? void 0 : group.get('item')) === null || _a === void 0 ? void 0 : _a.getModel()) !== null && _b !== void 0 ? _b : {}).collapsed;\n\n        var _g = shape.getBBox(),\n            shapeWidth_1 = _g.width,\n            shapeHeight = _g.height;\n\n        var _h = typeof markerCfg === 'function' ? markerCfg(cfg, group) : markerCfg,\n            show = _h.show,\n            _j = _h.position,\n            position = _j === void 0 ? 'right' : _j,\n            collapsed = _h.collapsed,\n            markerStyle = _h.style;\n\n        createMarker({\n          show: show,\n          position: position,\n          collapsed: stateCollapsed !== null && stateCollapsed !== void 0 ? stateCollapsed : collapsed,\n          style: markerStyle\n        }, group, [shapeWidth_1, shapeHeight]);\n        shape.attr('defaultCollapsed', collapsed);\n      }\n\n      return shape;\n    },\n\n    /**\n     * 更新节点，包含文本\n     * @override\n     * @param  {Object} cfg 节点的配置项\n     * @param  {Node} node 节点\n     */\n    update: undefined\n  }, 'single-node'); // 注册边\n\n  G6.registerEdge('fund-line', {\n    // @ts-ignore\n    draw: function draw(cfg, group) {\n      if (cfg === void 0) {\n        cfg = {};\n      }\n\n      var edgeCfg = cfg.edgeCfg,\n          value = cfg.value;\n\n      var _a = getPathText(value),\n          text = _a.text,\n          subText = _a.subText;\n\n      var _b = edgeCfg,\n          edgeStyle = _b.style,\n          labelCfg = _b.label;\n\n      var _c = getPathInfo(cfg),\n          startArrow = _c.startArrow,\n          endArrow = _c.endArrow,\n          path = _c.path,\n          line2StartPoint = _c.line2StartPoint,\n          endY = _c.endY;\n\n      var labelStyle = (labelCfg !== null && labelCfg !== void 0 ? labelCfg : {}).style;\n      var line = group.addShape('path', {\n        attrs: __assign({\n          path: path,\n          stroke: '#ccc',\n          startArrow: startArrow,\n          endArrow: endArrow\n        }, typeof edgeStyle === 'function' ? edgeStyle(cfg, group) : edgeStyle),\n        name: 'path-shape'\n      });\n\n      var createItem = function (itemText, key) {\n        group.addShape('text', {\n          attrs: __assign(__assign({\n            text: itemText,\n            x: line2StartPoint.x,\n            y: key === 'text' ? endY - 4 : endY + 16\n          }, defaultLabelStyle), getStyle(labelStyle, cfg, group, key)),\n          name: \"line-text-\" + key\n        });\n      };\n\n      text && createItem(text, 'text');\n      subText && createItem(subText, 'subText');\n      return line;\n    },\n    // @ts-ignore\n    update: function (cfg, edge) {\n      var edgeCfg = cfg.edgeCfg,\n          value = cfg.value;\n\n      var _a = getPathText(value),\n          text = _a.text,\n          subText = _a.subText;\n\n      var group = edge.getContainer();\n\n      var getShape = function (shapeName) {\n        return group.get('children').find(function (item) {\n          return item.get('name') === shapeName;\n        });\n      }; // const { startArrow, endArrow } = getPathInfo(cfg);\n\n\n      var _b = getPathInfo(cfg),\n          startArrow = _b.startArrow,\n          endArrow = _b.endArrow,\n          path = _b.path,\n          line2StartPoint = _b.line2StartPoint,\n          endY = _b.endY;\n\n      var _c = edgeCfg,\n          edgeStyle = _c.style,\n          labelCfg = _c.label;\n      var labelStyle = (labelCfg !== null && labelCfg !== void 0 ? labelCfg : {}).style; // path\n\n      var pathShape = getShape('path-shape');\n      pathShape === null || pathShape === void 0 ? void 0 : pathShape.attr(__assign({\n        path: path,\n        stroke: '#ccc',\n        startArrow: startArrow,\n        endArrow: endArrow\n      }, typeof edgeStyle === 'function' ? edgeStyle(cfg, group) : edgeStyle)); // path text\n\n      var texts = ['text', 'subText'];\n      texts.forEach(function (key) {\n        var textShape = getShape(\"line-text-\" + key);\n        textShape === null || textShape === void 0 ? void 0 : textShape.attr(__assign(__assign({\n          x: line2StartPoint.x,\n          y: key === 'text' ? endY - 4 : endY + 16,\n          text: key === 'text' ? text : subText\n        }, defaultLabelStyle), getStyle(labelStyle, cfg, group, key)));\n      });\n    }\n  }, 'single-edge');\n};","map":{"version":3,"sources":["C:/Users/Home/Desktop/cs-2005/node_modules/@ant-design/charts/es/graphs/fundFlowGraph/customItem.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","G6","defaultMargin","defaultLabelStyle","getStyle","getCssPadding","getSize","getArrowCfg","createMarker","getPathInfo","cfg","edgeCfg","startPoint","endPoint","startX","x","startY","y","endX","endY","Ydiff","slope","Math","min","abs","cpOffset","offset","line1EndPoint","line2StartPoint","controlPoint","path","_a","startArrowCfg","startArrow","endArrowCfg","endArrow","getPathText","value","text","subText","registerFundFlowItems","registerNode","draw","group","_b","_c","nodeCfg","markerCfg","_d","_e","label","style","_f","padding","customContent","labelStyle","paddingArray","size","height","shapeWidth","contentWidth","contentHeight","cardStyle","shape","addShape","attrs","width","radius","fill","stroke","name","draggable","createRowItems_1","item","icon","textShape","iconShape","img","textBaseline","textAlign","getBBox","createItems","itemsHeight","push","max","attr","stateCollapsed","get","getModel","collapsed","_g","shapeWidth_1","shapeHeight","_h","show","_j","position","markerStyle","update","undefined","registerEdge","edgeStyle","labelCfg","line","createItem","itemText","key","edge","getContainer","getShape","shapeName","find","pathShape","texts","forEach"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport G6 from '@antv/g6';\nimport { defaultMargin, defaultLabelStyle } from '../constants';\nimport { getStyle, getCssPadding, getSize, getArrowCfg, createMarker } from '../utils';\nvar getPathInfo = function (cfg) {\n    var edgeCfg = cfg.edgeCfg;\n    var startPoint = cfg.startPoint;\n    var endPoint = cfg.endPoint;\n    var startX = startPoint.x, startY = startPoint.y;\n    var endX = endPoint.x, endY = endPoint.y;\n    var Ydiff = endY - startY;\n    var slope = Ydiff !== 0 ? Math.min(500 / Math.abs(Ydiff), 20) : 0;\n    var cpOffset = slope > 15 ? 0 : 16;\n    var offset = Ydiff < 0 ? cpOffset : -cpOffset;\n    var line1EndPoint = {\n        x: startX + slope,\n        y: endY + offset,\n    };\n    var line2StartPoint = {\n        x: line1EndPoint.x + cpOffset,\n        y: endY,\n    };\n    // 控制点坐标\n    var controlPoint = {\n        x: ((line1EndPoint.x - startX) * (endY - startY)) / (line1EndPoint.y - startY) + startX,\n        y: endY,\n    };\n    var path = [\n        ['M', startX, startY],\n        ['L', line1EndPoint.x, line1EndPoint.y],\n        ['Q', controlPoint.x, controlPoint.y, line2StartPoint.x, line2StartPoint.y],\n        ['L', endX, endY],\n    ];\n    if (Math.abs(Ydiff) <= 5) {\n        path = [\n            ['M', startX, startY],\n            ['L', endX, endY],\n        ];\n    }\n    var _a = edgeCfg, startArrowCfg = _a.startArrow, endArrowCfg = _a.endArrow;\n    var startArrow = getArrowCfg(startArrowCfg, cfg);\n    var endArrow = getArrowCfg(endArrowCfg, cfg);\n    return {\n        startArrow: startArrow,\n        endArrow: endArrow,\n        path: path,\n        line2StartPoint: line2StartPoint,\n        endY: endY,\n    };\n};\nvar getPathText = function (value) {\n    var text;\n    var subText;\n    if (value instanceof Object) {\n        text = value.text;\n        subText = value.subText;\n    }\n    else {\n        text = value;\n    }\n    return { text: text, subText: subText };\n};\n// 资金流向图\nexport var registerFundFlowItems = function () {\n    // 注册节点\n    G6.registerNode('fund-card', {\n        // @ts-ignore\n        draw: function (cfg, group) {\n            var _a, _b;\n            if (cfg === void 0) { cfg = {}; }\n            var _c = cfg.value, value = _c === void 0 ? {} : _c, nodeCfg = cfg.nodeCfg, markerCfg = cfg.markerCfg;\n            var _d = nodeCfg, _e = _d.label, label = _e === void 0 ? {} : _e, style = _d.style, _f = _d.padding, padding = _f === void 0 ? 0 : _f, customContent = _d.customContent;\n            var labelStyle = label.style;\n            var paddingArray = getCssPadding(padding);\n            var size = getSize(cfg.size);\n            var height = 0; // 统计容器总高度，动态设置\n            var shapeWidth = size[0];\n            var contentWidth = shapeWidth - paddingArray[1] - paddingArray[3];\n            var contentHeight = size[1] - paddingArray[0] - paddingArray[2];\n            // card box\n            var cardStyle = getStyle(style, cfg, group);\n            var shape = group.addShape('rect', {\n                attrs: __assign({ x: 0, y: 0, width: size[0], height: size[1], radius: size[1] / 2, fill: '#fff', stroke: '#40a9ff' }, cardStyle),\n                name: 'main-box',\n                draggable: true,\n            });\n            if (value) {\n                height += paddingArray[0];\n                var createRowItems_1 = function (item, contentWidth, startX) {\n                    var _a, _b;\n                    var text = item.text, icon = item.icon;\n                    var textShape;\n                    var iconShape;\n                    if (icon) {\n                        iconShape = group.addShape('image', {\n                            attrs: __assign({ x: startX, y: height, img: icon, width: contentHeight, height: contentHeight }, getStyle(labelStyle, cfg, group, 'icon')),\n                            name: 'fund-icon',\n                        });\n                    }\n                    textShape = group === null || group === void 0 ? void 0 : group.addShape('text', {\n                        attrs: __assign(__assign({ textBaseline: 'middle', textAlign: iconShape ? 'start' : 'center', x: startX +\n                                (iconShape ? (iconShape === null || iconShape === void 0 ? void 0 : iconShape.getBBox().width) + defaultMargin : contentWidth / 2), y: paddingArray[0] + contentHeight / 2, text: text }, defaultLabelStyle), getStyle(labelStyle, cfg, group, 'text')),\n                        name: \"fund-text\",\n                    });\n                    return [(_a = textShape === null || textShape === void 0 ? void 0 : textShape.getBBox().height) !== null && _a !== void 0 ? _a : 0, (_b = iconShape === null || iconShape === void 0 ? void 0 : iconShape.getBBox().height) !== null && _b !== void 0 ? _b : 0];\n                };\n                var createItems = function (item) {\n                    var _a;\n                    var itemsHeight = [];\n                    if (customContent) {\n                        itemsHeight.push((_a = customContent(item, group, {\n                            startX: paddingArray[3],\n                            startY: height,\n                            width: contentWidth,\n                        })) !== null && _a !== void 0 ? _a : 0);\n                    }\n                    else {\n                        itemsHeight.push.apply(itemsHeight, createRowItems_1(item, contentWidth, paddingArray[3]));\n                    }\n                    height += Math.max.apply(Math, itemsHeight);\n                };\n                createItems(value);\n            }\n            shape === null || shape === void 0 ? void 0 : shape.attr('height', Math.max(size[1], height + paddingArray[2]));\n            // collapse marker\n            if (markerCfg) {\n                var stateCollapsed = ((_b = (_a = group === null || group === void 0 ? void 0 : group.get('item')) === null || _a === void 0 ? void 0 : _a.getModel()) !== null && _b !== void 0 ? _b : {}).collapsed;\n                var _g = shape.getBBox(), shapeWidth_1 = _g.width, shapeHeight = _g.height;\n                var _h = typeof markerCfg === 'function' ? markerCfg(cfg, group) : markerCfg, show = _h.show, _j = _h.position, position = _j === void 0 ? 'right' : _j, collapsed = _h.collapsed, markerStyle = _h.style;\n                createMarker({\n                    show: show,\n                    position: position,\n                    collapsed: stateCollapsed !== null && stateCollapsed !== void 0 ? stateCollapsed : collapsed,\n                    style: markerStyle,\n                }, group, [shapeWidth_1, shapeHeight]);\n                shape.attr('defaultCollapsed', collapsed);\n            }\n            return shape;\n        },\n        /**\n         * 更新节点，包含文本\n         * @override\n         * @param  {Object} cfg 节点的配置项\n         * @param  {Node} node 节点\n         */\n        update: undefined,\n    }, 'single-node');\n    // 注册边\n    G6.registerEdge('fund-line', {\n        // @ts-ignore\n        draw: function draw(cfg, group) {\n            if (cfg === void 0) { cfg = {}; }\n            var edgeCfg = cfg.edgeCfg, value = cfg.value;\n            var _a = getPathText(value), text = _a.text, subText = _a.subText;\n            var _b = edgeCfg, edgeStyle = _b.style, labelCfg = _b.label;\n            var _c = getPathInfo(cfg), startArrow = _c.startArrow, endArrow = _c.endArrow, path = _c.path, line2StartPoint = _c.line2StartPoint, endY = _c.endY;\n            var labelStyle = (labelCfg !== null && labelCfg !== void 0 ? labelCfg : {}).style;\n            var line = group.addShape('path', {\n                attrs: __assign({ path: path, stroke: '#ccc', startArrow: startArrow, endArrow: endArrow }, (typeof edgeStyle === 'function' ? edgeStyle(cfg, group) : edgeStyle)),\n                name: 'path-shape',\n            });\n            var createItem = function (itemText, key) {\n                group.addShape('text', {\n                    attrs: __assign(__assign({ text: itemText, x: line2StartPoint.x, y: key === 'text' ? endY - 4 : endY + 16 }, defaultLabelStyle), getStyle(labelStyle, cfg, group, key)),\n                    name: \"line-text-\" + key,\n                });\n            };\n            text && createItem(text, 'text');\n            subText && createItem(subText, 'subText');\n            return line;\n        },\n        // @ts-ignore\n        update: function (cfg, edge) {\n            var edgeCfg = cfg.edgeCfg, value = cfg.value;\n            var _a = getPathText(value), text = _a.text, subText = _a.subText;\n            var group = edge.getContainer();\n            var getShape = function (shapeName) {\n                return group.get('children').find(function (item) { return item.get('name') === shapeName; });\n            };\n            // const { startArrow, endArrow } = getPathInfo(cfg);\n            var _b = getPathInfo(cfg), startArrow = _b.startArrow, endArrow = _b.endArrow, path = _b.path, line2StartPoint = _b.line2StartPoint, endY = _b.endY;\n            var _c = edgeCfg, edgeStyle = _c.style, labelCfg = _c.label;\n            var labelStyle = (labelCfg !== null && labelCfg !== void 0 ? labelCfg : {}).style;\n            // path\n            var pathShape = getShape('path-shape');\n            pathShape === null || pathShape === void 0 ? void 0 : pathShape.attr(__assign({ path: path, stroke: '#ccc', startArrow: startArrow, endArrow: endArrow }, (typeof edgeStyle === 'function' ? edgeStyle(cfg, group) : edgeStyle)));\n            // path text\n            var texts = ['text', 'subText'];\n            texts.forEach(function (key) {\n                var textShape = getShape(\"line-text-\" + key);\n                textShape === null || textShape === void 0 ? void 0 : textShape.attr(__assign(__assign({ x: line2StartPoint.x, y: key === 'text' ? endY - 4 : endY + 16, text: key === 'text' ? text : subText }, defaultLabelStyle), getStyle(labelStyle, cfg, group, key)));\n            });\n        },\n    }, 'single-edge');\n};\n"]},"metadata":{},"sourceType":"module"}