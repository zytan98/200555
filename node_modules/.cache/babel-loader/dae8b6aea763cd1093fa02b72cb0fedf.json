{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BindingToSyntax = void 0;\n\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\n\nvar literal_types_1 = require(\"../constants/literal_types\");\n\nvar binding_in_when_on_syntax_1 = require(\"./binding_in_when_on_syntax\");\n\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\n\nvar BindingToSyntax = function () {\n  function BindingToSyntax(binding) {\n    this._binding = binding;\n  }\n\n  BindingToSyntax.prototype.to = function (constructor) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Instance;\n    this._binding.implementationType = constructor;\n    return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n  };\n\n  BindingToSyntax.prototype.toSelf = function () {\n    if (typeof this._binding.serviceIdentifier !== \"function\") {\n      throw new Error(\"\" + ERROR_MSGS.INVALID_TO_SELF_VALUE);\n    }\n\n    var self = this._binding.serviceIdentifier;\n    return this.to(self);\n  };\n\n  BindingToSyntax.prototype.toConstantValue = function (value) {\n    this._binding.type = literal_types_1.BindingTypeEnum.ConstantValue;\n    this._binding.cache = value;\n    this._binding.dynamicValue = null;\n    this._binding.implementationType = null;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n\n  BindingToSyntax.prototype.toDynamicValue = function (func) {\n    this._binding.type = literal_types_1.BindingTypeEnum.DynamicValue;\n    this._binding.cache = null;\n    this._binding.dynamicValue = func;\n    this._binding.implementationType = null;\n    return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n  };\n\n  BindingToSyntax.prototype.toConstructor = function (constructor) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Constructor;\n    this._binding.implementationType = constructor;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n\n  BindingToSyntax.prototype.toFactory = function (factory) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n    this._binding.factory = factory;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n\n  BindingToSyntax.prototype.toFunction = function (func) {\n    if (typeof func !== \"function\") {\n      throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);\n    }\n\n    var bindingWhenOnSyntax = this.toConstantValue(func);\n    this._binding.type = literal_types_1.BindingTypeEnum.Function;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return bindingWhenOnSyntax;\n  };\n\n  BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n\n    this._binding.factory = function (context) {\n      var autofactory = function () {\n        return context.container.get(serviceIdentifier);\n      };\n\n      return autofactory;\n    };\n\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n\n  BindingToSyntax.prototype.toProvider = function (provider) {\n    this._binding.type = literal_types_1.BindingTypeEnum.Provider;\n    this._binding.provider = provider;\n    this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n    return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n  };\n\n  BindingToSyntax.prototype.toService = function (service) {\n    this.toDynamicValue(function (context) {\n      return context.container.get(service);\n    });\n  };\n\n  return BindingToSyntax;\n}();\n\nexports.BindingToSyntax = BindingToSyntax;","map":{"version":3,"sources":["../../src/syntax/binding_to_syntax.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingToSyntax = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_in_when_on_syntax_1 = require(\"./binding_in_when_on_syntax\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingToSyntax = (function () {\n    function BindingToSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingToSyntax.prototype.to = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Instance;\n        this._binding.implementationType = constructor;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toSelf = function () {\n        if (typeof this._binding.serviceIdentifier !== \"function\") {\n            throw new Error(\"\" + ERROR_MSGS.INVALID_TO_SELF_VALUE);\n        }\n        var self = this._binding.serviceIdentifier;\n        return this.to(self);\n    };\n    BindingToSyntax.prototype.toConstantValue = function (value) {\n        this._binding.type = literal_types_1.BindingTypeEnum.ConstantValue;\n        this._binding.cache = value;\n        this._binding.dynamicValue = null;\n        this._binding.implementationType = null;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toDynamicValue = function (func) {\n        this._binding.type = literal_types_1.BindingTypeEnum.DynamicValue;\n        this._binding.cache = null;\n        this._binding.dynamicValue = func;\n        this._binding.implementationType = null;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toConstructor = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Constructor;\n        this._binding.implementationType = constructor;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFactory = function (factory) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = factory;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFunction = function (func) {\n        if (typeof func !== \"function\") {\n            throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);\n        }\n        var bindingWhenOnSyntax = this.toConstantValue(func);\n        this._binding.type = literal_types_1.BindingTypeEnum.Function;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return bindingWhenOnSyntax;\n    };\n    BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = function (context) {\n            var autofactory = function () { return context.container.get(serviceIdentifier); };\n            return autofactory;\n        };\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toProvider = function (provider) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Provider;\n        this._binding.provider = provider;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toService = function (service) {\n        this.toDynamicValue(function (context) { return context.container.get(service); });\n    };\n    return BindingToSyntax;\n}());\nexports.BindingToSyntax = BindingToSyntax;\n//# sourceMappingURL=binding_to_syntax.js.map"]},"metadata":{},"sourceType":"script"}