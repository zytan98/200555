{"ast":null,"code":"import { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { X_FIELD, Y_FIELD } from './constants';\nexport { meta };\n/**\n * 字段\n * @param params\n */\n\nfunction geometry(params) {\n  var chart = params.chart,\n      options = params.options;\n  var data = options.data,\n      color = options.color,\n      lineStyle = options.lineStyle,\n      pointMapping = options.point;\n  var pointState = pointMapping === null || pointMapping === void 0 ? void 0 : pointMapping.state;\n  var seriesData = getTinyData(data);\n  chart.data(seriesData); // line geometry 处理\n\n  var primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color: color,\n        style: lineStyle\n      },\n      point: pointMapping\n    }\n  });\n  var pointParams = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n      state: pointState\n    }\n  });\n  line(primary);\n  point(pointParams);\n  chart.axis(false);\n  chart.legend(false);\n  return params;\n}\n/**\n * 迷你折线图适配器\n * @param chart\n * @param options\n */\n\n\nexport function adaptor(params) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}","map":{"version":3,"sources":["../../../src/plots/tiny-line/adaptor.ts"],"names":[],"mappings":"AACA,SAAS,IAAT,EAAe,UAAf,QAAiC,aAAjC;AACA,SAAS,KAAT,EAAgB,SAAhB,EAA2B,UAA3B,EAAuC,OAAvC,QAAsD,sBAAtD;AACA,SAAS,IAAT,EAAe,KAAf,QAA4B,0BAA5B;AACA,SAAS,IAAT,QAAqB,sBAArB;AACA,SAAS,WAAT,QAA4B,SAA5B;AAEA,SAAS,OAAT,EAAkB,OAAlB,QAAiC,aAAjC;AAEA,SAAS,IAAT;AAEA;;;AAGG;;AACH,SAAS,QAAT,CAAkB,MAAlB,EAAiD;AACvC,MAAA,KAAK,GAAc,MAAM,CAApB,KAAL;AAAA,MAAO,OAAO,GAAK,MAAM,CAAX,OAAd;AACA,MAAA,IAAI,GAA4C,OAAO,CAAnD,IAAJ;AAAA,MAAM,KAAK,GAAqC,OAAO,CAA5C,KAAX;AAAA,MAAa,SAAS,GAA0B,OAAO,CAAjC,SAAtB;AAAA,MAA+B,YAAY,GAAK,OAAO,CAAZ,KAA3C;AAER,MAAM,UAAU,GAAG,YAAY,KAAA,IAAZ,IAAA,YAAY,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAA,YAAY,CAAE,KAAjC;AAEA,MAAM,UAAU,GAAG,WAAW,CAAC,IAAD,CAA9B;AAEA,EAAA,KAAK,CAAC,IAAN,CAAW,UAAX,EAR+C,CAU/C;;AACA,MAAM,OAAO,GAAG,UAAU,CAAC,EAAD,EAAK,MAAL,EAAa;AACrC,IAAA,OAAO,EAAE;AACP,MAAA,MAAM,EAAE,OADD;AAEP,MAAA,MAAM,EAAE,OAFD;AAGP,MAAA,IAAI,EAAE;AACJ,QAAA,KAAK,EAAA,KADD;AAEJ,QAAA,KAAK,EAAE;AAFH,OAHC;AAOP,MAAA,KAAK,EAAE;AAPA;AAD4B,GAAb,CAA1B;AAWA,MAAM,WAAW,GAAG,UAAU,CAAC,EAAD,EAAK,OAAL,EAAc;AAAE,IAAA,OAAO,EAAE;AAAE,MAAA,OAAO,EAAE,KAAX;AAAkB,MAAA,KAAK,EAAE;AAAzB;AAAX,GAAd,CAA9B;AAEA,EAAA,IAAI,CAAC,OAAD,CAAJ;AACA,EAAA,KAAK,CAAC,WAAD,CAAL;AAEA,EAAA,KAAK,CAAC,IAAN,CAAW,KAAX;AACA,EAAA,KAAK,CAAC,MAAN,CAAa,KAAb;AAEA,SAAO,MAAP;AACD;AAED;;;;AAIG;;;AACH,OAAM,SAAU,OAAV,CAAkB,MAAlB,EAAiD;AACrD,SAAO,IAAI,CAAC,QAAD,EAAW,IAAX,EAAiB,KAAjB,EAAwB,OAAxB,EAAiC,SAAjC,EAA4C,UAAU,EAAtD,CAAJ,CAA8D,MAA9D,CAAP;AACD","sourcesContent":["import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * 字段\n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry 处理\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * 迷你折线图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}