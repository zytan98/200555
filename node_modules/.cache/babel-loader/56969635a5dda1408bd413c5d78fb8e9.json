{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { registerShape, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { PATH_FIELD } from './constant';\n/**\n * 获取填充属性\n * @param cfg 图形绘制数据\n */\n\nfunction getFillAttrs(cfg) {\n  // style.fill 优先级更高\n  return deepAssign({}, cfg.defaultStyle, {\n    fill: cfg.color\n  }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw: function (cfg, container) {\n    var data = cfg.data;\n    var segments = parsePathString(data[PATH_FIELD]);\n    var fillAttrs = getFillAttrs(cfg);\n    var group = container.addGroup({\n      name: 'venn-shape'\n    });\n    group.addShape('path', {\n      attrs: __assign(__assign({}, fillAttrs), {\n        path: segments\n      }),\n      name: 'venn-path'\n    });\n    var _a = cfg.customInfo,\n        offsetX = _a.offsetX,\n        offsetY = _a.offsetY;\n    var matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n    return group;\n  },\n  getMarker: function (markerCfg) {\n    var color = markerCfg.color;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4\n      }\n    };\n  }\n});","map":{"version":3,"sources":["../../../src/plots/venn/shape.ts"],"names":[],"mappings":";AACA,SAAS,aAAT,EAA+B,IAA/B,QAA2C,UAA3C;AACA,SAAS,eAAT,QAAgC,iBAAhC;AACA,SAAS,UAAT,QAA2B,aAA3B;AAGA,SAAS,UAAT,QAA2B,YAA3B;AAEA;;;AAGG;;AACH,SAAS,YAAT,CAAsB,GAAtB,EAA0C;AACxC;AACA,SAAO,UAAU,CAAC,EAAD,EAAK,GAAG,CAAC,YAAT,EAAuB;AAAE,IAAA,IAAI,EAAE,GAAG,CAAC;AAAZ,GAAvB,EAA4C,GAAG,CAAC,KAAhD,CAAjB;AACD;;AAED,aAAa,CAAC,QAAD,EAAW,MAAX,EAAmB;AAC9B,EAAA,IAAI,EAAJ,UAAK,GAAL,EAAsE,SAAtE,EAAuF;AACrF,QAAM,IAAI,GAAG,GAAG,CAAC,IAAjB;AACA,QAAM,QAAQ,GAAG,eAAe,CAAC,IAAI,CAAC,UAAD,CAAL,CAAhC;AACA,QAAM,SAAS,GAAG,YAAY,CAAC,GAAD,CAA9B;AAEA,QAAM,KAAK,GAAG,SAAS,CAAC,QAAV,CAAmB;AAAE,MAAA,IAAI,EAAE;AAAR,KAAnB,CAAd;AAEA,IAAA,KAAK,CAAC,QAAN,CAAe,MAAf,EAAuB;AACrB,MAAA,KAAK,EAAA,QAAA,CAAA,QAAA,CAAA,EAAA,EACA,SADA,CAAA,EACS;AACZ,QAAA,IAAI,EAAE;AADM,OADT,CADgB;AAKrB,MAAA,IAAI,EAAE;AALe,KAAvB;AAQM,QAAA,EAAA,GAAuB,GAAG,CAAC,UAA3B;AAAA,QAAE,OAAO,GAAA,EAAA,CAAA,OAAT;AAAA,QAAW,OAAO,GAAA,EAAA,CAAA,OAAlB;AAEN,QAAM,MAAM,GAAG,IAAI,CAAC,SAAL,CAAe,IAAf,EAAqB,CAAC,CAAC,GAAD,EAAM,OAAN,EAAe,OAAf,CAAD,CAArB,CAAf;AACA,IAAA,KAAK,CAAC,SAAN,CAAgB,MAAhB;AAEA,WAAO,KAAP;AACD,GAtB6B;AAuB9B,EAAA,SAAS,EAAT,UAAU,SAAV,EAAyC;AAC/B,QAAA,KAAK,GAAK,SAAS,CAAd,KAAL;AACR,WAAO;AACL,MAAA,MAAM,EAAE,QADH;AAEL,MAAA,KAAK,EAAE;AACL,QAAA,SAAS,EAAE,CADN;AAEL,QAAA,MAAM,EAAE,KAFH;AAGL,QAAA,IAAI,EAAE,KAHD;AAIL,QAAA,CAAC,EAAE;AAJE;AAFF,KAAP;AASD;AAlC6B,CAAnB,CAAb","sourcesContent":["import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * 获取填充属性\n * @param cfg 图形绘制数据\n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill 优先级更高\n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}