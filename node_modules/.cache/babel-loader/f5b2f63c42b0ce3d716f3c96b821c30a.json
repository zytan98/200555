{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport G6 from '@antv/g6';\nimport { deepClone } from '../../util/utils';\nimport { defaultMinimapCfg } from './constants';\nexport var getGraphSize = function (width, height, container) {\n  var CANVAS_WIDTH;\n  var CANVAS_HEIGHT;\n\n  if (container && container.current) {\n    CANVAS_WIDTH = container.current.offsetWidth;\n    CANVAS_HEIGHT = container.current.offsetHeight || 500;\n  }\n\n  if (!width && !CANVAS_WIDTH || !height && !CANVAS_HEIGHT) {\n    console.warn('请为 Graph 指定 width 与 height！否则将使用默认值 500 * 500');\n    return [500, 500];\n  }\n\n  return [width || CANVAS_WIDTH || 500, height || CANVAS_HEIGHT || 500];\n}; // 展开&折叠事件\n\nexport var bindDefaultEvents = function (graph, collapseExpand) {\n  if (collapseExpand) {\n    var onClick_1 = function (e) {\n      var item = e.item;\n\n      if (e.target.get('name') === 'collapse-icon') {\n        graph.updateItem(item, {\n          collapsed: !item.getModel().collapsed\n        });\n        graph.layout();\n      }\n    };\n\n    graph.on('node:click', function (e) {\n      onClick_1(e);\n    });\n    graph.on('node:touchstart', function (e) {\n      onClick_1(e);\n    });\n  }\n}; // 默认箭头样式\n\nexport var getDefaultEdgeArrowCfg = function (d, arrowType, fill) {\n  if (d === void 0) {\n    d = 0;\n  }\n\n  if (arrowType === void 0) {\n    arrowType = 'vee';\n  }\n\n  if (fill === void 0) {\n    fill = '#ccc';\n  }\n\n  return {\n    endArrow: {\n      path: G6.Arrow[arrowType](10, 10, d),\n      fill: fill,\n      d: d\n    }\n  };\n}; // 统一处理 text&style\n\nexport var getContentAndStyle = function (cfg) {\n  if (typeof cfg === 'string' || typeof cfg === 'number') {\n    return {\n      text: cfg\n    };\n  }\n\n  var content = cfg.content,\n      style = cfg.style;\n  return {\n    text: content,\n    style: style\n  };\n}; // 统一处理 config，支持回调\n\nexport var getConfig = function (source, item, cfg) {\n  if (typeof source === 'function') {\n    return source(item, cfg);\n  }\n\n  return source || {};\n};\n\nvar uuid = function () {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}; // 同一页面存在多 graph 时需要指定 graphId\n\n\nexport var getGraphId = function (graph) {\n  if (graph.current) {\n    return graph.current;\n  }\n\n  graph.current = \"IndentedTreeGraph-\" + uuid();\n  return graph.current;\n};\nexport var renderGraph = function (graph, data) {\n  var originData = deepClone(data);\n  graph.data(originData);\n  graph.render();\n};\nexport var processMinimap = function (cfg, graph) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  if (!graph || graph.destroyed) return;\n\n  if (cfg.show) {\n    var curMminimapCfg = Object.assign(defaultMinimapCfg, cfg);\n    var minimap = new G6.Minimap(__assign({}, curMminimapCfg));\n    graph.addPlugin(minimap);\n    return minimap;\n  }\n\n  return null;\n};\n/**\n * min ma\n */\n\nexport var getMarkerPosition = function (direction, size) {\n  if (direction === void 0) {\n    direction = 'right';\n  }\n\n  var width = size[0],\n      height = size[1];\n  var x = 0;\n  var y = 0;\n\n  switch (direction) {\n    case 'top':\n      x = width / 2;\n      y = 0;\n      break;\n\n    case 'right':\n      x = width;\n      y = height / 2;\n      break;\n\n    case 'bottom':\n      x = width / 2;\n      y = height;\n      break;\n\n    case 'left':\n      x = 0;\n      y = height / 2;\n      break;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n};\n/**\n * 设置 props 默认值\n * props 会在对应图表和 hooks 里面使用，不想加个很长的赋值表达式。\n * layout 使用 merge\n */\n\nexport var useProps = function (props, defaultProps) {\n  return __assign(__assign(__assign({}, defaultProps), props), {\n    layout: __assign(__assign({}, defaultProps === null || defaultProps === void 0 ? void 0 : defaultProps.layout), props === null || props === void 0 ? void 0 : props.layout)\n  });\n};","map":{"version":3,"sources":["C:/Users/Home/Desktop/cs-2005/node_modules/@ant-design/charts/es/obsolescent/graphs/utils.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","G6","deepClone","defaultMinimapCfg","getGraphSize","width","height","container","CANVAS_WIDTH","CANVAS_HEIGHT","current","offsetWidth","offsetHeight","console","warn","bindDefaultEvents","graph","collapseExpand","onClick_1","e","item","target","get","updateItem","collapsed","getModel","layout","on","getDefaultEdgeArrowCfg","d","arrowType","fill","endArrow","path","Arrow","getContentAndStyle","cfg","text","content","style","getConfig","source","uuid","replace","c","r","Math","random","v","toString","getGraphId","renderGraph","data","originData","render","processMinimap","destroyed","show","curMminimapCfg","minimap","Minimap","addPlugin","getMarkerPosition","direction","size","x","y","useProps","props","defaultProps"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport G6 from '@antv/g6';\nimport { deepClone } from '../../util/utils';\nimport { defaultMinimapCfg } from './constants';\nexport var getGraphSize = function (width, height, container) {\n    var CANVAS_WIDTH;\n    var CANVAS_HEIGHT;\n    if (container && container.current) {\n        CANVAS_WIDTH = container.current.offsetWidth;\n        CANVAS_HEIGHT = container.current.offsetHeight || 500;\n    }\n    if ((!width && !CANVAS_WIDTH) || (!height && !CANVAS_HEIGHT)) {\n        console.warn('请为 Graph 指定 width 与 height！否则将使用默认值 500 * 500');\n        return [500, 500];\n    }\n    return [width || CANVAS_WIDTH || 500, height || CANVAS_HEIGHT || 500];\n};\n// 展开&折叠事件\nexport var bindDefaultEvents = function (graph, collapseExpand) {\n    if (collapseExpand) {\n        var onClick_1 = function (e) {\n            var item = e.item;\n            if (e.target.get('name') === 'collapse-icon') {\n                graph.updateItem(item, {\n                    collapsed: !item.getModel().collapsed,\n                });\n                graph.layout();\n            }\n        };\n        graph.on('node:click', function (e) {\n            onClick_1(e);\n        });\n        graph.on('node:touchstart', function (e) {\n            onClick_1(e);\n        });\n    }\n};\n// 默认箭头样式\nexport var getDefaultEdgeArrowCfg = function (d, arrowType, fill) {\n    if (d === void 0) { d = 0; }\n    if (arrowType === void 0) { arrowType = 'vee'; }\n    if (fill === void 0) { fill = '#ccc'; }\n    return {\n        endArrow: {\n            path: G6.Arrow[arrowType](10, 10, d),\n            fill: fill,\n            d: d,\n        },\n    };\n};\n// 统一处理 text&style\nexport var getContentAndStyle = function (cfg) {\n    if (typeof cfg === 'string' || typeof cfg === 'number') {\n        return {\n            text: cfg,\n        };\n    }\n    var content = cfg.content, style = cfg.style;\n    return {\n        text: content,\n        style: style,\n    };\n};\n// 统一处理 config，支持回调\nexport var getConfig = function (source, item, cfg) {\n    if (typeof source === 'function') {\n        return source(item, cfg);\n    }\n    return source || {};\n};\nvar uuid = function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0;\n        var v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n};\n// 同一页面存在多 graph 时需要指定 graphId\nexport var getGraphId = function (graph) {\n    if (graph.current) {\n        return graph.current;\n    }\n    graph.current = \"IndentedTreeGraph-\" + uuid();\n    return graph.current;\n};\nexport var renderGraph = function (graph, data) {\n    var originData = deepClone(data);\n    graph.data(originData);\n    graph.render();\n};\nexport var processMinimap = function (cfg, graph) {\n    if (cfg === void 0) { cfg = {}; }\n    if (!graph || graph.destroyed)\n        return;\n    if (cfg.show) {\n        var curMminimapCfg = Object.assign(defaultMinimapCfg, cfg);\n        var minimap = new G6.Minimap(__assign({}, curMminimapCfg));\n        graph.addPlugin(minimap);\n        return minimap;\n    }\n    return null;\n};\n/**\n * min ma\n */\nexport var getMarkerPosition = function (direction, size) {\n    if (direction === void 0) { direction = 'right'; }\n    var width = size[0], height = size[1];\n    var x = 0;\n    var y = 0;\n    switch (direction) {\n        case 'top':\n            x = width / 2;\n            y = 0;\n            break;\n        case 'right':\n            x = width;\n            y = height / 2;\n            break;\n        case 'bottom':\n            x = width / 2;\n            y = height;\n            break;\n        case 'left':\n            x = 0;\n            y = height / 2;\n            break;\n    }\n    return { x: x, y: y };\n};\n/**\n * 设置 props 默认值\n * props 会在对应图表和 hooks 里面使用，不想加个很长的赋值表达式。\n * layout 使用 merge\n */\nexport var useProps = function (props, defaultProps) {\n    return __assign(__assign(__assign({}, defaultProps), props), { layout: __assign(__assign({}, defaultProps === null || defaultProps === void 0 ? void 0 : defaultProps.layout), props === null || props === void 0 ? void 0 : props.layout) });\n};\n"]},"metadata":{},"sourceType":"module"}