{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { mat4, vec3 } from 'gl-matrix';\n/**\n * 保存相机状态，便于后续在多个 Landmark 间移动\n */\n\nvar Landmark = /*#__PURE__*/function () {\n  function Landmark(name, c) {\n    _classCallCheck(this, Landmark);\n\n    this.name = void 0;\n    this.matrix = void 0;\n    this.right = void 0;\n    this.up = void 0;\n    this.forward = void 0;\n    this.position = void 0;\n    this.focalPoint = void 0;\n    this.distanceVector = void 0;\n    this.distance = void 0;\n    this.dollyingStep = void 0;\n    this.azimuth = 0;\n    this.elevation = 0;\n    this.roll = 0;\n    this.relAzimuth = 0;\n    this.relElevation = 0;\n    this.relRoll = 0;\n    this.name = name;\n    this.matrix = mat4.clone(c.matrix);\n    this.right = vec3.clone(c.right);\n    this.up = vec3.clone(c.up);\n    this.forward = vec3.clone(c.forward);\n    this.position = vec3.clone(c.position);\n    this.focalPoint = vec3.clone(c.focalPoint);\n    this.distanceVector = vec3.clone(c.distanceVector);\n    this.azimuth = c.azimuth;\n    this.elevation = c.elevation;\n    this.roll = c.roll;\n    this.relAzimuth = c.relAzimuth;\n    this.relElevation = c.relElevation;\n    this.relRoll = c.relRoll;\n    this.dollyingStep = c.dollyingStep;\n    this.distance = c.distance;\n  }\n\n  _createClass(Landmark, [{\n    key: \"getPosition\",\n    value: function getPosition() {\n      return this.position;\n    }\n  }, {\n    key: \"getFocalPoint\",\n    value: function getFocalPoint() {\n      return this.focalPoint;\n    }\n  }, {\n    key: \"getRoll\",\n    value: function getRoll() {\n      return this.roll;\n    }\n  }, {\n    key: \"retrieve\",\n    value: function retrieve(c) {\n      c.matrix = mat4.copy(c.matrix, this.matrix);\n      c.right = vec3.copy(c.right, this.right);\n      c.up = vec3.copy(c.up, this.up);\n      c.forward = vec3.copy(c.forward, this.forward);\n      c.position = vec3.copy(c.position, this.position);\n      c.focalPoint = vec3.copy(c.focalPoint, this.focalPoint);\n      c.distanceVector = vec3.copy(c.distanceVector, this.distanceVector);\n      c.azimuth = this.azimuth;\n      c.elevation = this.elevation;\n      c.roll = this.roll;\n      c.relAzimuth = this.relAzimuth;\n      c.relElevation = this.relElevation;\n      c.relRoll = this.relRoll;\n      c.dollyingStep = this.dollyingStep;\n      c.distance = this.distance;\n    }\n  }]);\n\n  return Landmark;\n}();\n\nexport { Landmark as default };","map":{"version":3,"sources":["../../src/camera/Landmark.ts"],"names":["Landmark","name","matrix","right","up","forward","position","focalPoint","distanceVector","distance","dollyingStep","azimuth","elevation","roll","relAzimuth","relElevation","relRoll","mat4","c","vec3"],"mappings":"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","sourcesContent":["import { mat4, vec3 } from 'gl-matrix';\nimport { Camera } from './Camera';\n\n/**\n * 保存相机状态，便于后续在多个 Landmark 间移动\n */\nexport default class Landmark {\n  public name: string;\n\n  private matrix: mat4;\n  private right: vec3;\n  private up: vec3;\n  private forward: vec3;\n  private position: vec3;\n  private focalPoint: vec3;\n  private distanceVector: vec3;\n  private distance: number;\n  private dollyingStep: number;\n  private azimuth = 0;\n  private elevation = 0;\n  private roll = 0;\n  private relAzimuth = 0;\n  private relElevation = 0;\n  private relRoll = 0;\n\n  constructor(name: string, c: Camera) {\n    this.name = name;\n\n    this.matrix = mat4.clone(c.matrix);\n    this.right = vec3.clone(c.right);\n    this.up = vec3.clone(c.up);\n    this.forward = vec3.clone(c.forward);\n    this.position = vec3.clone(c.position);\n    this.focalPoint = vec3.clone(c.focalPoint);\n    this.distanceVector = vec3.clone(c.distanceVector);\n\n    this.azimuth = c.azimuth;\n    this.elevation = c.elevation;\n    this.roll = c.roll;\n    this.relAzimuth = c.relAzimuth;\n    this.relElevation = c.relElevation;\n    this.relRoll = c.relRoll;\n    this.dollyingStep = c.dollyingStep;\n    this.distance = c.distance;\n  }\n\n  public getPosition() {\n    return this.position;\n  }\n\n  public getFocalPoint() {\n    return this.focalPoint;\n  }\n\n  public getRoll() {\n    return this.roll;\n  }\n\n  public retrieve(c: Camera) {\n    c.matrix = mat4.copy(c.matrix, this.matrix);\n    c.right = vec3.copy(c.right, this.right);\n    c.up = vec3.copy(c.up, this.up);\n    c.forward = vec3.copy(c.forward, this.forward);\n    c.position = vec3.copy(c.position, this.position);\n    c.focalPoint = vec3.copy(c.focalPoint, this.focalPoint);\n    c.distanceVector = vec3.copy(c.distanceVector, this.distanceVector);\n\n    c.azimuth = this.azimuth;\n    c.elevation = this.elevation;\n    c.roll = this.roll;\n    c.relAzimuth = this.relAzimuth;\n    c.relElevation = this.relElevation;\n    c.relRoll = this.relRoll;\n    c.dollyingStep = this.dollyingStep;\n    c.distance = this.distance;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}