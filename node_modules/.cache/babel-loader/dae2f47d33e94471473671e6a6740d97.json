{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Lookup = void 0;\n\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\n\nvar Lookup = function () {\n  function Lookup() {\n    this._map = new Map();\n  }\n\n  Lookup.prototype.getMap = function () {\n    return this._map;\n  };\n\n  Lookup.prototype.add = function (serviceIdentifier, value) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    if (value === null || value === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    var entry = this._map.get(serviceIdentifier);\n\n    if (entry !== undefined) {\n      entry.push(value);\n\n      this._map.set(serviceIdentifier, entry);\n    } else {\n      this._map.set(serviceIdentifier, [value]);\n    }\n  };\n\n  Lookup.prototype.get = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    var entry = this._map.get(serviceIdentifier);\n\n    if (entry !== undefined) {\n      return entry;\n    } else {\n      throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n    }\n  };\n\n  Lookup.prototype.remove = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    if (!this._map.delete(serviceIdentifier)) {\n      throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n    }\n  };\n\n  Lookup.prototype.removeByCondition = function (condition) {\n    var _this = this;\n\n    this._map.forEach(function (entries, key) {\n      var updatedEntries = entries.filter(function (entry) {\n        return !condition(entry);\n      });\n\n      if (updatedEntries.length > 0) {\n        _this._map.set(key, updatedEntries);\n      } else {\n        _this._map.delete(key);\n      }\n    });\n  };\n\n  Lookup.prototype.hasKey = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    return this._map.has(serviceIdentifier);\n  };\n\n  Lookup.prototype.clone = function () {\n    var copy = new Lookup();\n\n    this._map.forEach(function (value, key) {\n      value.forEach(function (b) {\n        return copy.add(key, b.clone());\n      });\n    });\n\n    return copy;\n  };\n\n  Lookup.prototype.traverse = function (func) {\n    this._map.forEach(function (value, key) {\n      func(key, value);\n    });\n  };\n\n  return Lookup;\n}();\n\nexports.Lookup = Lookup;","map":{"version":3,"sources":["../../src/container/lookup.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Lookup = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar Lookup = (function () {\n    function Lookup() {\n        this._map = new Map();\n    }\n    Lookup.prototype.getMap = function () {\n        return this._map;\n    };\n    Lookup.prototype.add = function (serviceIdentifier, value) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (value === null || value === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            entry.push(value);\n            this._map.set(serviceIdentifier, entry);\n        }\n        else {\n            this._map.set(serviceIdentifier, [value]);\n        }\n    };\n    Lookup.prototype.get = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            return entry;\n        }\n        else {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.remove = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (!this._map.delete(serviceIdentifier)) {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.removeByCondition = function (condition) {\n        var _this = this;\n        this._map.forEach(function (entries, key) {\n            var updatedEntries = entries.filter(function (entry) { return !condition(entry); });\n            if (updatedEntries.length > 0) {\n                _this._map.set(key, updatedEntries);\n            }\n            else {\n                _this._map.delete(key);\n            }\n        });\n    };\n    Lookup.prototype.hasKey = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        return this._map.has(serviceIdentifier);\n    };\n    Lookup.prototype.clone = function () {\n        var copy = new Lookup();\n        this._map.forEach(function (value, key) {\n            value.forEach(function (b) { return copy.add(key, b.clone()); });\n        });\n        return copy;\n    };\n    Lookup.prototype.traverse = function (func) {\n        this._map.forEach(function (value, key) {\n            func(key, value);\n        });\n    };\n    return Lookup;\n}());\nexports.Lookup = Lookup;\n//# sourceMappingURL=lookup.js.map"]},"metadata":{},"sourceType":"script"}