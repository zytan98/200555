{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tagProperty = exports.tagParameter = exports.decorate = void 0;\n\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\n\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\n\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n  var metadataKey = METADATA_KEY.TAGGED;\n\n  _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\n\nexports.tagParameter = tagParameter;\n\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n  var metadataKey = METADATA_KEY.TAGGED_PROP;\n\n  _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\n\nexports.tagProperty = tagProperty;\n\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n  var paramsOrPropertiesMetadata = {};\n  var isParameterDecorator = typeof parameterIndex === \"number\";\n  var key = parameterIndex !== undefined && isParameterDecorator ? parameterIndex.toString() : propertyName;\n\n  if (isParameterDecorator && propertyName !== undefined) {\n    throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n  }\n\n  if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n    paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n  }\n\n  var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n\n  if (!Array.isArray(paramOrPropertyMetadata)) {\n    paramOrPropertyMetadata = [];\n  } else {\n    for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n      var m = paramOrPropertyMetadata_1[_i];\n\n      if (m.key === metadata.key) {\n        throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n      }\n    }\n  }\n\n  paramOrPropertyMetadata.push(metadata);\n  paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n  Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\n\nfunction _decorate(decorators, target) {\n  Reflect.decorate(decorators, target);\n}\n\nfunction _param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\n\nfunction decorate(decorator, target, parameterIndex) {\n  if (typeof parameterIndex === \"number\") {\n    _decorate([_param(parameterIndex, decorator)], target);\n  } else if (typeof parameterIndex === \"string\") {\n    Reflect.decorate([decorator], target, parameterIndex);\n  } else {\n    _decorate([decorator], target);\n  }\n}\n\nexports.decorate = decorate;","map":{"version":3,"sources":["../../src/annotation/decorator_utils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tagProperty = exports.tagParameter = exports.decorate = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED;\n    _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\nexports.tagParameter = tagParameter;\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED_PROP;\n    _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\nexports.tagProperty = tagProperty;\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n    var paramsOrPropertiesMetadata = {};\n    var isParameterDecorator = (typeof parameterIndex === \"number\");\n    var key = (parameterIndex !== undefined && isParameterDecorator) ? parameterIndex.toString() : propertyName;\n    if (isParameterDecorator && propertyName !== undefined) {\n        throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n    }\n    if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n        paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n    }\n    var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n    if (!Array.isArray(paramOrPropertyMetadata)) {\n        paramOrPropertyMetadata = [];\n    }\n    else {\n        for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n            var m = paramOrPropertyMetadata_1[_i];\n            if (m.key === metadata.key) {\n                throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n            }\n        }\n    }\n    paramOrPropertyMetadata.push(metadata);\n    paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n    Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\nfunction _decorate(decorators, target) {\n    Reflect.decorate(decorators, target);\n}\nfunction _param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); };\n}\nfunction decorate(decorator, target, parameterIndex) {\n    if (typeof parameterIndex === \"number\") {\n        _decorate([_param(parameterIndex, decorator)], target);\n    }\n    else if (typeof parameterIndex === \"string\") {\n        Reflect.decorate([decorator], target, parameterIndex);\n    }\n    else {\n        _decorate([decorator], target);\n    }\n}\nexports.decorate = decorate;\n//# sourceMappingURL=decorator_utils.js.map"]},"metadata":{},"sourceType":"script"}