{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { modifyCSS, createDom } from '@antv/dom-util';\nimport Base from '../base'; // 网格背景图片\n\nvar GRID_PNG = 'url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)';\n\nvar Grid =\n/** @class */\nfunction (_super) {\n  __extends(Grid, _super);\n\n  function Grid() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Grid.prototype.getDefaultCfgs = function () {\n    return {\n      img: GRID_PNG\n    };\n  };\n\n  Grid.prototype.init = function () {\n    var graph = this.get('graph');\n    var minZoom = graph.get('minZoom');\n    var graphContainer = graph.get('container');\n    var canvas = graph.get('canvas').get('el');\n    var width = graph.get('width');\n    var height = graph.get('height');\n    var img = this.get('img') || GRID_PNG;\n    var container = createDom(\"<div class='g6-grid-container' style=\\\"position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;\\\"></div>\");\n    var gridContainer = createDom(\"<div \\n        class='g6-grid' \\n        style='position:absolute;\\n        transform-origin: 0% 0% 0px;\\n        background-image: \" + img + \";\\n        user-select: none\\n        '></div>\");\n    container.appendChild(gridContainer);\n    modifyCSS(container, {\n      width: width + \"px\",\n      height: height + \"px\",\n      left: graphContainer.offsetLeft + \"px\",\n      top: graphContainer.offsetTop + \"px\"\n    });\n    modifyCSS(gridContainer, {\n      width: width / minZoom + \"px\",\n      height: height / minZoom + \"px\",\n      left: \"0px\",\n      top: \"0px\"\n    });\n    graphContainer.insertBefore(container, canvas);\n    this.set('container', container);\n    this.set('gridContainer', gridContainer);\n  }; // class-methods-use-this\n\n\n  Grid.prototype.getEvents = function () {\n    return {\n      viewportchange: 'updateGrid'\n    };\n  };\n  /**\n   * viewport change 事件的响应函数\n   * @param param\n   */\n\n\n  Grid.prototype.updateGrid = function (param) {\n    var gridContainer = this.get('gridContainer');\n    var matrix = param.matrix;\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    var transform = \"matrix(\" + matrix[0] + \", \" + matrix[1] + \", \" + matrix[3] + \", \" + matrix[4] + \", 0, 0)\";\n    modifyCSS(gridContainer, {\n      transform: transform\n    });\n  };\n\n  Grid.prototype.getContainer = function () {\n    return this.get('container');\n  };\n\n  Grid.prototype.destroy = function () {\n    var graph = this.get('graph');\n    var graphContainer = graph.get('container');\n    var container = this.get('container');\n    graphContainer.removeChild(container);\n  };\n\n  return Grid;\n}(Base);\n\nexport default Grid;","map":{"version":3,"sources":["C:/Users/Home/Desktop/cs-2005/node_modules/@antv/g6-plugin/es/grid/index.js"],"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","modifyCSS","createDom","Base","GRID_PNG","Grid","_super","apply","arguments","getDefaultCfgs","img","init","graph","get","minZoom","graphContainer","canvas","width","height","container","gridContainer","appendChild","left","offsetLeft","top","offsetTop","insertBefore","set","getEvents","viewportchange","updateGrid","param","matrix","transform","getContainer","destroy","removeChild"],"mappings":"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","sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { modifyCSS, createDom } from '@antv/dom-util';\nimport Base from '../base'; // 网格背景图片\n\nvar GRID_PNG = 'url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)';\n\nvar Grid =\n/** @class */\nfunction (_super) {\n  __extends(Grid, _super);\n\n  function Grid() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Grid.prototype.getDefaultCfgs = function () {\n    return {\n      img: GRID_PNG\n    };\n  };\n\n  Grid.prototype.init = function () {\n    var graph = this.get('graph');\n    var minZoom = graph.get('minZoom');\n    var graphContainer = graph.get('container');\n    var canvas = graph.get('canvas').get('el');\n    var width = graph.get('width');\n    var height = graph.get('height');\n    var img = this.get('img') || GRID_PNG;\n    var container = createDom(\"<div class='g6-grid-container' style=\\\"position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;\\\"></div>\");\n    var gridContainer = createDom(\"<div \\n        class='g6-grid' \\n        style='position:absolute;\\n        transform-origin: 0% 0% 0px;\\n        background-image: \" + img + \";\\n        user-select: none\\n        '></div>\");\n    container.appendChild(gridContainer);\n    modifyCSS(container, {\n      width: width + \"px\",\n      height: height + \"px\",\n      left: graphContainer.offsetLeft + \"px\",\n      top: graphContainer.offsetTop + \"px\"\n    });\n    modifyCSS(gridContainer, {\n      width: width / minZoom + \"px\",\n      height: height / minZoom + \"px\",\n      left: \"0px\",\n      top: \"0px\"\n    });\n    graphContainer.insertBefore(container, canvas);\n    this.set('container', container);\n    this.set('gridContainer', gridContainer);\n  }; // class-methods-use-this\n\n\n  Grid.prototype.getEvents = function () {\n    return {\n      viewportchange: 'updateGrid'\n    };\n  };\n  /**\n   * viewport change 事件的响应函数\n   * @param param\n   */\n\n\n  Grid.prototype.updateGrid = function (param) {\n    var gridContainer = this.get('gridContainer');\n    var matrix = param.matrix;\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    var transform = \"matrix(\" + matrix[0] + \", \" + matrix[1] + \", \" + matrix[3] + \", \" + matrix[4] + \", 0, 0)\";\n    modifyCSS(gridContainer, {\n      transform: transform\n    });\n  };\n\n  Grid.prototype.getContainer = function () {\n    return this.get('container');\n  };\n\n  Grid.prototype.destroy = function () {\n    var graph = this.get('graph');\n    var graphContainer = graph.get('container');\n    var container = this.get('container');\n    graphContainer.removeChild(container);\n  };\n\n  return Grid;\n}(Base);\n\nexport default Grid;"]},"metadata":{},"sourceType":"module"}